}
correlations
}
corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 400)
corr <- function(directory, threshold = 0) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'threshold' is a numeric vector of length 1 indicating the
## number of completely observed observations (on all
## variables) required to compute the correlation between
## nitrate and sulfate; the default is 0
## Return a numeric vector of correlations
## NOTE: Do not round the result!
#  complete_data_cases <- rep(0, length(id))
files <- as.character( list.files(directory) )
correlations <- c()
index <- 0
for (i in files) {
file <- paste(directory, i, sep="")
data <- read.csv(file=file, header=T, sep=",")
complete_data_cases <- complete.cases(data)
if (sum(complete_data_cases) >= threshold) {
index <- index + 1
correlations[index] <- cor(data[complete_data_cases,][, "sulfate"], data[complete_data_cases,][, "nitrate"])
}
}
correlations
}
corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 400)
corr <- function(directory, threshold = 0) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'threshold' is a numeric vector of length 1 indicating the
## number of completely observed observations (on all
## variables) required to compute the correlation between
## nitrate and sulfate; the default is 0
## Return a numeric vector of correlations
## NOTE: Do not round the result!
#  complete_data_cases <- rep(0, length(id))
files <- as.character( list.files(directory) )
correlations <- c()
index <- 0
for (i in files) {
file <- paste(directory, i, sep="")
data <- read.csv(file=file, header=T, sep=",")
complete_data_cases <- complete.cases(data)
if (sum(complete_data_cases) >= threshold) {
index <- index + 1
correlations[index] <- cor(data[complete_data_cases, "sulfate"], data[complete_data_cases, "nitrate"])
}
}
correlations
}
corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 400)
corr <- function(directory, threshold = 0) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'threshold' is a numeric vector of length 1 indicating the
## number of completely observed observations (on all
## variables) required to compute the correlation between
## nitrate and sulfate; the default is 0
## Return a numeric vector of correlations
## NOTE: Do not round the result!
files <- as.character( list.files(directory) )
correlations <- c()
index <- 0
for (i in files) {
file <- paste(directory, i, sep="")
data <- read.csv(file=file, header=T, sep=",")
complete_data_cases <- complete.cases(data)
if (sum(complete_data_cases) >= threshold) {
index <- index + 1
correlations[index] <- cor(data[complete_data_cases, "sulfate"], data[complete_data_cases, "nitrate"])
}
}
}
corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 400)
cr <- corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 150)
head(cr)
corr <- function(directory, threshold = 0) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'threshold' is a numeric vector of length 1 indicating the
## number of completely observed observations (on all
## variables) required to compute the correlation between
## nitrate and sulfate; the default is 0
## Return a numeric vector of correlations
## NOTE: Do not round the result!
files <- as.character( list.files(directory) )
correlations <- c()
index <- 0
for (i in files) {
file <- paste(directory, i, sep="")
data <- read.csv(file=file, header=T, sep=",")
complete_data_cases <- complete.cases(data)
if (sum(complete_data_cases) >= threshold) {
index <- index + 1
correlations[index] <- cor(data[complete_data_cases, "sulfate"], data[complete_data_cases, "nitrate"])
}
}
correlations
}
cr <- corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 150)
head(cr)
summary(cr)
cr <- corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 400)
head(cr)
summary(cr)
cr <- corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 5000)
summary(cr)
lenght(cr)
length(cr)
cr <- corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/")
summary(cr)
lenght(cr)
length(cr)
corr <- function(directory, threshold = 0) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'threshold' is a numeric vector of length 1 indicating the
## number of completely observed observations (on all
## variables) required to compute the correlation between
## nitrate and sulfate; the default is 0
## Return a numeric vector of correlations
## NOTE: Do not round the result!
files <- as.character( list.files(directory) )
#correlations <- c()
index <- 0
for (i in files) {
file <- paste(directory, i, sep="")
data <- read.csv(file=file, header=T, sep=",")
complete_data_cases <- complete.cases(data)
if (sum(complete_data_cases) >= threshold) {
index <- index + 1
correlations[index] <- cor(data[complete_data_cases, "sulfate"], data[complete_data_cases, "nitrate"])
}
}
correlations
}
cr <- corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 5000)
corr <- function(directory, threshold = 0) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'threshold' is a numeric vector of length 1 indicating the
## number of completely observed observations (on all
## variables) required to compute the correlation between
## nitrate and sulfate; the default is 0
## Return a numeric vector of correlations
## NOTE: Do not round the result!
files <- as.character( list.files(directory) )
correlations <- c()
index <- 0
for (i in files) {
file <- paste(directory, i, sep="")
data <- read.csv(file=file, header=T, sep=",")
complete_data_cases <- complete.cases(data)
if (sum(complete_data_cases) >= threshold) {
index <- index + 1
correlations[index] <- cor(data[complete_data_cases, "sulfate"], data[complete_data_cases, "nitrate"])
}
}
correlations
}
cr <- corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 5000)
summary(cr)
cr <- corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 400)
head(cr)
summary(cr)
a <- c()
summary(a)
corr <- function(directory, threshold = 0) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'threshold' is a numeric vector of length 1 indicating the
## number of completely observed observations (on all
## variables) required to compute the correlation between
## nitrate and sulfate; the default is 0
## Return a numeric vector of correlations
## NOTE: Do not round the result!
files <- as.character( list.files(directory) )
correlations <- c()
index <- 0
for (i in files) {
file <- paste(directory, i, sep="")
data <- read.csv(file=file, header=T, sep=",")
complete_data_cases <- complete.cases(data)
if (sum(complete_data_cases) >= threshold) {
index <- index + 1
correlations[index] <- cor(data[complete_data_cases, "sulfate"], data[complete_data_cases, "nitrate"])
}
}
if (lenght(correlations > 0)) {
correlations
} else {
correlations <- numeric(c())
}
}
cr <- corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 400)
corr <- function(directory, threshold = 0) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'threshold' is a numeric vector of length 1 indicating the
## number of completely observed observations (on all
## variables) required to compute the correlation between
## nitrate and sulfate; the default is 0
## Return a numeric vector of correlations
## NOTE: Do not round the result!
files <- as.character( list.files(directory) )
correlations <- c()
index <- 0
for (i in files) {
file <- paste(directory, i, sep="")
data <- read.csv(file=file, header=T, sep=",")
complete_data_cases <- complete.cases(data)
if (sum(complete_data_cases) >= threshold) {
index <- index + 1
correlations[index] <- cor(data[complete_data_cases, "sulfate"], data[complete_data_cases, "nitrate"])
}
}
if (length(correlations > 0)) {
correlations
} else {
correlations <- numeric(c())
}
}
cr <- corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 400)
summary(cr)
cr <- corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 5000)
corr <- function(directory, threshold = 0) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'threshold' is a numeric vector of length 1 indicating the
## number of completely observed observations (on all
## variables) required to compute the correlation between
## nitrate and sulfate; the default is 0
## Return a numeric vector of correlations
## NOTE: Do not round the result!
files <- as.character( list.files(directory) )
correlations <- c()
index <- 0
for (i in files) {
file <- paste(directory, i, sep="")
data <- read.csv(file=file, header=T, sep=",")
complete_data_cases <- complete.cases(data)
if (sum(complete_data_cases) >= threshold) {
index <- index + 1
correlations[index] <- cor(data[complete_data_cases, "sulfate"], data[complete_data_cases, "nitrate"])
}
}
if (length(correlations > 0)) {
correlations
} else {
correlations <- numeric(0)
}
}
cr <- corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 5000)
summary(cr)
corr <- function(directory, threshold = 0) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'threshold' is a numeric vector of length 1 indicating the
## number of completely observed observations (on all
## variables) required to compute the correlation between
## nitrate and sulfate; the default is 0
## Return a numeric vector of correlations
## NOTE: Do not round the result!
files <- as.character( list.files(directory) )
correlations <- numeric(0)
index <- 0
for (i in files) {
file <- paste(directory, i, sep="")
data <- read.csv(file=file, header=T, sep=",")
complete_data_cases <- complete.cases(data)
if (sum(complete_data_cases) >= threshold) {
index <- index + 1
correlations[index] <- cor(data[complete_data_cases, "sulfate"], data[complete_data_cases, "nitrate"])
}
}
correlations
}
cr <- corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 5000)
summary(cr)
cr <- corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 150)
head(cr)
summary(cr)
cr <- corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 400)
head(cr)
summar(cr)
summary(cr)
cr <- corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 5000)
summary(cr)
lenght(cr)
length(cr)
cr <- corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/")
summary(cr)
lenght8cr
lenght(cr)
length(cr)
complete <- function(directory, id = 1:332) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'id' is an integer vector indicating the monitor ID numbers
## to be used
## Return a data frame of the form:
## id nobs
## 1  117
## 2  1041
## ...
## where 'id' is the monitor ID number and 'nobs' is the
## number of complete cases
complete_data_cases <- rep(0, length(id))
files <- as.character( list.files(directory) )
index <- 0
for (i in id) {
file <- paste(directory, files[i], sep="")
data <- read.csv(file=file, header=T, sep=",")
index <- index + 1
complete_data_cases[index] <- sum(complete.cases(data))
}
result <- data.frame(id = id, nobs = complete_data_cases)
return(result)
}
complete("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 1)
complete("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 30:25)
complete("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 3)
complete("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", c(2,4,6,8,10,12))
complete <- function(directory, id = 1:332) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'id' is an integer vector indicating the monitor ID numbers
## to be used
## Return a data frame of the form:
## id nobs
## 1  117
## 2  1041
## ...
## where 'id' is the monitor ID number and 'nobs' is the
## number of complete cases
complete_data_cases <- rep(0, length(id))
files <- as.character( list.files(directory) )
index <- 0
for (i in id) {
file <- paste(directory, files[i], sep="")
data <- read.csv(file=file, header=T, sep=",")
index <- index + 1
complete_data_cases[index] <- sum(complete.cases(data))
}
result <- data.frame(id = id, nobs = complete_data_cases)
}
complete("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", c(2,4,6,8,10,12))
cr <- complete("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 1)
complete("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 1)
complete <- function(directory, id = 1:332) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'id' is an integer vector indicating the monitor ID numbers
## to be used
## Return a data frame of the form:
## id nobs
## 1  117
## 2  1041
## ...
## where 'id' is the monitor ID number and 'nobs' is the
## number of complete cases
complete_data_cases <- rep(0, length(id))
files <- as.character( list.files(directory) )
index <- 0
for (i in id) {
file <- paste(directory, files[i], sep="")
data <- read.csv(file=file, header=T, sep=",")
index <- index + 1
complete_data_cases[index] <- sum(complete.cases(data))
}
result <- data.frame(id = id, nobs = complete_data_cases)
result
}
complete("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 1)
complete("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", c(2,4,6,8,10,12))
corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/")
cr <- corr("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/")
head (cr)
pollutantmean <- function(directory, pollutant, id = 1:332) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'pollutant' is a character vector of length 1 indicating
## the name of the pollutant for which we will calculate the
## mean; either "sulfate" or "nitrate".
## 'id' is an integer vector indicating the monitor ID numbers
## to be used
## Return the mean of the pollutant across all monitors list
## in the 'id' vector (ignoring NA values)
## NOTE: Do not round the result!
files <- as.character( list.files(directory) )
clean_data <- c()
for (i in id) {
file <- paste(directory, files[i], sep="")
data <- read.csv(file=file, header=T, sep=",")
clean_data <- c(clean_data, data[!is.na(data[,pollutant]), pollutant])
}
result <- mean (clean_data)
}
pollutantmean("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", "sulfate", 1:10)
pollutantmean <- function(directory, pollutant, id = 1:332) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'pollutant' is a character vector of length 1 indicating
## the name of the pollutant for which we will calculate the
## mean; either "sulfate" or "nitrate".
## 'id' is an integer vector indicating the monitor ID numbers
## to be used
## Return the mean of the pollutant across all monitors list
## in the 'id' vector (ignoring NA values)
## NOTE: Do not round the result!
files <- as.character( list.files(directory) )
clean_data <- c()
for (i in id) {
file <- paste(directory, files[i], sep="")
data <- read.csv(file=file, header=T, sep=",")
clean_data <- c(clean_data, data[!is.na(data[,pollutant]), pollutant])
}
result <- mean (clean_data)
result
}
pollutantmean("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", "sulfate", 1:10)
pollutantmean("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", "nitrate", 70:72)
pollutantmean("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", "nitrate", 23)
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript1.R")
submit()
submit()
setwd("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/")
submit()
setwd("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/")
submit()
setwd("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/")
submit()
submit()
pollutantmean <- function(directory, pollutant, id = 1:332) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'pollutant' is a character vector of length 1 indicating
## the name of the pollutant for which we will calculate the
## mean; either "sulfate" or "nitrate".
## 'id' is an integer vector indicating the monitor ID numbers
## to be used
## Return the mean of the pollutant across all monitors list
## in the 'id' vector (ignoring NA values)
## NOTE: Do not round the result!
#files <- as.character( list.files(directory) )
clean_data <- c()
for (i in id) {
file <- paste(directory, formatC(i, width=3, flag="0"), ".csv", sep="")
data <- read.csv(file=file, header=T, sep=",")
clean_data <- c(clean_data, data[!is.na(data[,pollutant]), pollutant])
}
result <- mean (clean_data)
result
}
pollutantmean("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", "nitrate", 23)
pollutantmean("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", "nitrate", 70:72)
pollutantmean("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", "sulfate", 1:10)
complete <- function(directory, id = 1:332) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'id' is an integer vector indicating the monitor ID numbers
## to be used
## Return a data frame of the form:
## id nobs
## 1  117
## 2  1041
## ...
## where 'id' is the monitor ID number and 'nobs' is the
## number of complete cases
complete_data_cases <- rep(0, length(id))
index <- 0
for (i in id) {
file <- paste(directory, formatC(i, width=3, flag="0"), ".csv", sep="")
data <- read.csv(file=file, header=T, sep=",")
index <- index + 1
complete_data_cases[index] <- sum(complete.cases(data))
}
result <- data.frame(id = id, nobs = complete_data_cases)
result
}
complete("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", c(2,4,6,8,10,12))
complete("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", 1)
complete("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/",30:25)
complete("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/",3)
complete <- function(directory, id = 1:332) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'id' is an integer vector indicating the monitor ID numbers
## to be used
## Return a data frame of the form:
## id nobs
## 1  117
## 2  1041
## ...
## where 'id' is the monitor ID number and 'nobs' is the
## number of complete cases
complete_data_cases <- rep(0, length(id))
index <- 0
for (i in id) {
file <- paste(directory, formatC(i, width=3, flag="0"), ".csv", sep="")
data <- read.csv(file=file, header=T, sep=",")
index <- index + 1
complete_data_cases[index] <- sum(complete.cases(data))
}
result <- data.frame(id = id, nobs = complete_data_cases)
result
}
complete("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/", c(2,4,6,8,10,12))
complete("/home/b4rt0l4/Documents/Dropbox/Casa/curso R/week2/specdata/",3)
